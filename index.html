<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gitar Nota Okuma Akademisi</title>
    <style>
        body { font-family: sans-serif; background: #1a1a2e; color: white; text-align: center; margin: 0; padding: 10px; }
        .container { max-width: 700px; margin: auto; background: #16213e; padding: 20px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        
        /* DÄ°ZEK TASARIMI */
        .staff-bg { background: white; padding: 40px 10px; border-radius: 12px; margin: 20px 0; display: flex; justify-content: center; }
        svg { overflow: visible; }
        
        /* ÅIKLAR */
        .options-container { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 20px; }
        @media (min-width: 500px) { .options-container { grid-template-columns: repeat(5, 1fr); } }
        
        .btn-secenek { 
            padding: 15px; font-size: 18px; font-weight: bold; cursor: pointer; 
            border: 2px solid #533483; border-radius: 10px; background: #0f3460; 
            color: white; transition: 0.2s; 
        }
        .btn-secenek:hover:not(:disabled) { background: #e94560; transform: scale(1.05); }
        .btn-secenek:disabled { opacity: 0.6; cursor: not-allowed; }

        .header-panel { display: flex; justify-content: space-around; background: #0f3460; padding: 10px; border-radius: 10px; margin-bottom: 10px; }
        .stat span { color: #ffba08; font-size: 22px; font-weight: bold; }
        #mesaj { font-size: 18px; font-weight: bold; margin: 15px; min-height: 25px; }
        
        .correct { background: #2ecc71 !important; border-color: white !important; }
        .wrong { background: #e94560 !important; border-color: white !important; }
    </style>
</head>
<body>

<div class="container">
    <h2>Nota Okuma Okulu</h2>
    <p style="font-size: 12px; color: #888;">Gitar 1. Pozisyon NotalarÄ±</p>

    <div class="header-panel">
        <div class="stat">Puan: <span id="puan">0</span></div>
        <div class="stat">Hak: <span id="hak">3</span></div>
    </div>

    <div class="staff-bg">
        <svg width="350" height="220" viewBox="0 0 350 220">
            <line x1="20" y1="60" x2="330" y2="60" stroke="#333" stroke-width="2" />
            <line x1="20" y1="80" x2="330" y2="80" stroke="#333" stroke-width="2" />
            <line x1="20" y1="100" x2="330" y2="100" stroke="#333" stroke-width="2" />
            <line x1="20" y1="120" x2="330" y2="120" stroke="#333" stroke-width="2" />
            <line x1="20" y1="140" x2="330" y2="140" stroke="#333" stroke-width="2" />
            
            <text x="25" y="145" font-size="120" fill="#333" font-family="serif">ğ„</text>
            
            <g id="nota-grubu"></g>
        </svg>
    </div>

    <div id="mesaj">BaÅŸlamak iÃ§in bir ÅŸÄ±k seÃ§!</div>
    <div class="options-container" id="siklar-alani"></div>

    <button onclick="location.reload()" style="margin-top:20px; background:none; border:none; color:#555; cursor:pointer; text-decoration:underline;">SÄ±fÄ±rla</button>
</div>

<script>
    let puan = 0, hak = 3, mevcutHedef = null;
    const notaAdlari = ['DO', 'RE', 'MÄ°', 'FA', 'SOL', 'LA', 'SÄ°'];

    // Gitar 1. Pozisyon Nota Havuzu (MÃ¼zikal olarak tam doÄŸru koordinatlar)
    const notaHavuzu = [
        // Ä°nce tellerden kalÄ±na doÄŸru
        {ad: "SOL", y: 50, ledger: []},
        {ad: "FA", y: 60, ledger: []},
        {ad: "MÄ°", y: 70, ledger: []},
        {ad: "RE", y: 80, ledger: []},
        {ad: "DO", y: 90, ledger: []},
        {ad: "SÄ°", y: 100, ledger: []},
        {ad: "LA", y: 110, ledger: []},
        {ad: "SOL", y: 120, ledger: []},
        {ad: "FA", y: 130, ledger: []},
        {ad: "MÄ°", y: 140, ledger: []},
        {ad: "RE", y: 150, ledger: []},
        {ad: "DO", y: 160, ledger: [160]},
        {ad: "SÄ°", y: 170, ledger: [160]},
        {ad: "LA", y: 180, ledger: [160, 180]},
        {ad: "SOL", y: 190, ledger: [160, 180]},
        {ad: "FA", y: 200, ledger: [160, 180, 200]},
        {ad: "MÄ°", y: 210, ledger: [160, 180, 200]}
    ];

    window.onload = yeniSoru;

    function yeniSoru() {
        if (hak <= 0) return;
        
        // Rastgele nota seÃ§
        mevcutHedef = notaHavuzu[Math.floor(Math.random() * notaHavuzu.length)];
        
        // NotayÄ± Ã§iz
        const grup = document.getElementById('nota-grubu');
        grup.innerHTML = "";
        
        // Ek Ã§izgiler
        mevcutHedef.ledger.forEach(ly => {
            const l = document.createElementNS("http://www.w3.org/2000/svg", "line");
            l.setAttribute("x1", "180"); l.setAttribute("y1", ly);
            l.setAttribute("x2", "230"); l.setAttribute("y2", ly);
            l.setAttribute("stroke", "#333"); l.setAttribute("stroke-width", "2");
            grup.appendChild(l);
        });

        // Nota baÅŸÄ±
        const n = document.createElementNS("http://www.w3.org/2000/svg", "ellipse");
        n.setAttribute("cx", "205"); n.setAttribute("cy", mevcutHedef.y);
        n.setAttribute("rx", "12"); n.setAttribute("ry", "9");
        n.setAttribute("fill", "#e94560");
        grup.appendChild(n);

        // ÅÄ±klarÄ± Ã¼ret (Garantili 5 seÃ§enek)
        olusturSiklar();
        
        document.getElementById('mesaj').innerText = "Bu nota hangisi?";
        document.getElementById('mesaj').style.color = "white";
    }

    function olusturSiklar() {
        const alan = document.getElementById('siklar-alani');
        alan.innerHTML = "";

        // DoÄŸru cevabÄ± al
        let siklar = [mevcutHedef.ad];

        // 4 tane benzersiz yanlÄ±ÅŸ cevap ekle
        while(siklar.length < 5) {
            let r = notaAdlari[Math.floor(Math.random() * notaAdlari.length)];
            if(!siklar.includes(r)) siklar.push(r);
        }

        // ÅÄ±klarÄ± karÄ±ÅŸtÄ±r
        siklar.sort(() => Math.random() - 0.5);

        siklar.forEach(s => {
            const b = document.createElement('button');
            b.className = 'btn-secenek';
            b.innerText = s;
            b.onclick = () => kontrol(s, b);
            alan.appendChild(b);
        });
    }

    function kontrol(tahmin, buton) {
        if (hak <= 0) return;
        const butonlar = document.querySelectorAll('.btn-secenek');
        butonlar.forEach(b => b.disabled = true);

        if (tahmin === mevcutHedef.ad) {
            puan += 10;
            document.getElementById('puan').innerText = puan;
            document.getElementById('mesaj').innerText = "DOÄRU! âœ…";
            document.getElementById('mesaj').style.color = "#2ecc71";
            buton.classList.add('correct');
            setTimeout(yeniSoru, 1000);
        } else {
            hak--;
            document.getElementById('hak').innerText = hak;
            document.getElementById('mesaj').innerText = "YANLIÅ! âŒ (DoÄŸru cevap: " + mevcutHedef.ad + ")";
            document.getElementById('mesaj').style.color = "#e94560";
            buton.classList.add('wrong');
            
            if (hak <= 0) {
                document.getElementById('mesaj').innerText = "OYUN BÄ°TTÄ°! Skor: " + puan;
            } else {
                setTimeout(yeniSoru, 1500);
            }
        }
    }
</script>
</body>
</html>
